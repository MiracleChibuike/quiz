<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MTechQuestion 5</title>
        <!-- Bootstrap css link -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <!-- customised css -->
        <link rel="stylesheet" href="css/question1.css">
        <!-- google fonts -->
        <style>
            @import url('https://fonts.googleapis.com/css2?family=PT+Sans+Narrow&family=Ubuntu:wght@500&display=swap');
          </style>
            <!-- font awesome link personal kit -->
            <script src="https://kit.fontawesome.com/9b5c4c6b23.js" crossorigin="anonymous"></script>
</head>
<body>
    <!-- main-container -->
    <div class="container-fluid">
        <p class="firstp">Question 5 of 20:</p>
        <div class="question1Container">
            <h3 class="questionheader">
                What is the difference between an <strong>Id</strong> and a <strong>Class</strong> in HTML 5?
            </h3>
            <div>
                <span class="lines">A</span>
                <input type="radio" name="buttons" id="totalError">
                <span class="options">An Id is a unique attribute and can only appear few times in a page while a Class doesnt </span>
            </div>
            <div>
                <span class="lines">B</span>
                <input type="radio" name="buttons" id="incorrect">
                <span class="options">A class is being defined by a <strong>.</strong> sign while and Id is being identified by <strong>#</strong> sign</span>
            </div>
            <div>
                <span class="lines">C</span>
                <input type="radio" name="buttons"  id="correctAnswer">
                <span class="options"><strong>'A' & 'B'</strong> are true</span>
            </div>
            <div>
                <span class="lines">D</span>
                <input type="radio" name="buttons" id="extraWrong" >
                <span class="options">'A' & 'B' are false</span>
            </div>
            <div>
                <span class="lines">E</span>
                <input type="radio" name="buttons" id="wrong">
                <span class="options">All of the above</span>
            </div>
            <p class="answer"></p>
            <span class="resultScore"></span>  
          <section>
            <button id="Checker">
                check Answer
            </button>
          </section>
        </div>
        <button class="previous">
           <a href="question4.html"> 
            <i class="fa-solid fa-angles-left"></i>
            Previous Question</a>
        </button>
        <button class="activate">
            <a href="question6.html" target="_blank">Next Question
                <i class="fa-solid fa-angle-right"></i>
            </a>
        </button>
    </div>
    




        <!-- Bootsrap js link -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
        <!-- custom JS -->
        <script>
            let rightANswer, worngAnswer, incorrectAnswer, extraIncorrect, errorAnswer;
            rightANswer = document.getElementById("correctAnswer");
            worngAnswer = document.getElementById("wrong");
            incorrectAnswer = document.getElementById("extraWrong");
            extraIncorrect = document.getElementById("incorrect");
            errorAnswer = document.getElementById("totalError")
            var displayMsg = document.querySelector(".answer");
            var calculateAnswer = document.getElementById("Checker");
            let totalScoreElement = document.querySelector(".resultScore");
            let scoreHistory = localStorage.getItem('scoreHistory');
            if (scoreHistory) {
                scoreHistory = JSON.parse(scoreHistory);
            } else {
                scoreHistory = [];
            };
            console.log(scoreHistory);
            let prevScore = scoreHistory[scoreHistory.length -1] || 0;
            console.log(prevScore + "prevScore");
            let totalScore = prevScore;
            let questionAnswered = false;
            
           
            calculateAnswer.addEventListener("click", function (){
                if (rightANswer.checked) {
                displayMsg.textContent = "You are correct"
                displayMsg.style.color = "green"
                score = 2;
                alert(`You got ${score} points`)
                console.log(score + "TQscore");
                totalScore = prevScore + score
                totalScoreElement.textContent = `Total Score: ${totalScore}`;
                console.log(totalScore + "totalScore")
                questionAnswered = true;
            }else if (errorAnswer.checked || worngAnswer.checked || incorrectAnswer.checked || extraIncorrect.checked) {
                displayMsg.textContent = "You are wrong the correct answer is 'C' "
                displayMsg.style.color = "red"
                score = 0;
                alert(`You got ${score} points`)
                console.log(score + "TQscore");
                totalScore = prevScore + score
                totalScoreElement.textContent = `Total Score: ${totalScore}`;
                console.log(totalScore + "totalScore")
                questionAnswered = true;
            }else{
                alert("Please select a button")
            }
            })

            function saveProgress() {
                let nextQuestion = document.querySelector(".activate");
                nextQuestion.addEventListener("click", function (){
                    if (questionAnswered) {
                        scoreHistory.push(totalScore);
                        localStorage.setItem('scoreHistory', JSON.stringify(scoreHistory));
                        console.log(totalScore + "saving");
                    }
                    questionAnswered = false;
                });
            }
            saveProgress();

            function revertProgress() {
                let prevQuestion = document.querySelector(".previous");
                prevQuestion.addEventListener("click", function() {
                    scoreHistory.pop();
                    totalScore = scoreHistory[scoreHistory.length-1] || 0;
                    localStorage.setItem('scoreHistory', JSON.stringify(scoreHistory));
                    questionAnswered = true;
                });
            }
            revertProgress();
        </script>
</body>
</html>